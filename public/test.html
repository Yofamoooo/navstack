<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Navbar with Dropdown - Card & Code Preview & Edit</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Scrollbar for code block */
    pre::-webkit-scrollbar {
      height: 8px;
    }

    pre::-webkit-scrollbar-thumb {
      background-color: rgba(99, 102, 241, 0.5);
      border-radius: 0.5rem;
    }
  </style>
</head>

<body class="bg-white text-gray-600 font-sans min-h-screen flex flex-col items-center py-16 px-6">
  <main class="w-full">
    <h1 class="text-5xl font-extrabold text-gray-900 mb-12 text-center select-none">
      Navbar with Dropdown inside a Card
    </h1>
    <section>
      <article class="bg-white rounded-3xl shadow-lg p-8 max-w-4xl mx-auto">
        <!-- Toggle Buttons -->
        <div class="flex justify-center space-x-3 mb-8">
          <button id="preview-button"
            class="tab-button bg-indigo-600 text-white shadow-md hover:bg-indigo-700 px-6 py-2 rounded-xl font-semibold transition focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
            Preview
          </button>
          <button id="code-button"
            class="tab-button bg-gray-100 text-gray-800 hover:bg-gray-200 px-6 py-2 rounded-xl font-semibold transition focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
            Code
          </button>
          <button id="edit-button"
            class="tab-button bg-gray-100 text-gray-800 hover:bg-gray-200 px-6 py-2 rounded-xl font-semibold transition focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1">
            Edit
          </button>
        </div>

        <!-- Preview Panel -->
        <section id="preview-panel" class="relative" aria-live="polite" aria-atomic="true">
          <div class="relative">
            <nav id="navbar" class="sticky top-0 shadow-sm rounded-xl z-10"
              style="background-color:#ffffff; color:#374151;">
              <div class="max-w-7xl mx-auto px-6">
                <div class="flex items-center justify-between h-16">
                  <!-- Logo -->
                  <a href="#" class="text-2xl font-semibold select-none" style="color:inherit;">MyLogo</a>

                  <!-- Nav items desktop -->
                  <div class="hidden md:flex space-x-8 items-center" style="color:inherit;">
                    <a href="#" class="hover:text-gray-900 transition ease-in-out duration-300 font-medium"
                      style="color:inherit;">Home</a>

                    <!-- Dropdown -->
                    <div class="relative" id="dropdown-container">
                      <button id="dropdown-button" aria-haspopup="true" aria-expanded="false"
                        class="flex items-center space-x-1 font-medium hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded transition ease-in-out duration-300"
                        style="color:inherit;">
                        <span>Services</span>
                        <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" stroke-width="2"
                          viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                        </svg>
                      </button>
                      <!-- Dropdown menu -->
                      <div id="dropdown-menu"
                        class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg opacity-0 pointer-events-none transform transition ease-in-out duration-300 -translate-y-2"
                        role="menu" aria-label="Services submenu">
                        <a href="#"
                          class="block px-4 py-2 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 rounded-md transition duration-200"
                          role="menuitem">Web Development</a>
                        <a href="#"
                          class="block px-4 py-2 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 rounded-md transition duration-200"
                          role="menuitem">App Design</a>
                        <a href="#"
                          class="block px-4 py-2 text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 rounded-md transition duration-200"
                          role="menuitem">SEO Optimization</a>
                      </div>
                    </div>

                    <a href="#" class="hover:text-gray-900 transition ease-in-out duration-300 font-medium"
                      style="color:inherit;">About</a>
                    <a href="#" class="hover:text-gray-900 transition ease-in-out duration-300 font-medium"
                      style="color:inherit;">Contact</a>
                  </div>

                  <!-- Mobile menu button -->
                  <div class="md:hidden">
                    <button id="mobile-menu-button" aria-label="Toggle menu"
                      class="text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded">
                      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>

              <!-- Mobile menu -->
              <div id="mobile-menu"
                class="hidden md:hidden border-t border-gray-200 bg-white rounded-b-xl shadow-inner">
                <div class="px-2 pt-2 pb-3 space-y-1" style="color:#374151;">
                  <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                    style="color:inherit;">Home</a>

                  <!-- Mobile dropdown -->
                  <div>
                    <button id="mobile-dropdown-button" aria-haspopup="true" aria-expanded="false"
                      class="w-full flex justify-between items-center px-3 py-2 font-medium hover:text-indigo-700 hover:bg-indigo-100 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-200"
                      style="color:inherit;">
                      <span>Services</span>
                      <svg class="w-4 h-4 text-gray-600" fill="none" stroke="currentColor" stroke-width="2"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                      </svg>
                    </button>
                    <div id="mobile-dropdown-menu" class="hidden pl-4 mt-1 space-y-1" style="color:inherit;">
                      <a href="#"
                        class="block px-3 py-2 rounded-md text-black hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                        style="color:inherit;">Web Development</a>
                      <a href="#"
                        class="block px-3 py-2 rounded-md text-black hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                        style="color:inherit;">App Design</a>
                      <a href="#"
                        class="block px-3 py-2 rounded-md text-black hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                        style="color:inherit;">SEO Optimization</a>
                    </div>
                  </div>

                  <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                    style="color:inherit;">About</a>
                  <a href="#"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:text-indigo-700 hover:bg-indigo-100 transition duration-200"
                    style="color:inherit;">Contact</a>
                </div>
              </div>
            </nav>
          </div>
        </section>

        <!-- Panel Kode -->
        <section id="code-panel" class="hidden bg-gray-900 rounded-xl p-6 mt-4 overflow-x-auto max-h-[450px] relative">
          <!-- Header Panel -->
          <div class="flex justify-between items-center mb-4">
            <div class="space-x-2">
              <button id="html-btn"
                class="bg-blue-600 hover:bg-blue-700 text-white text-xs font-semibold py-1 px-3 rounded">HTML</button>
              <button id="js-btn"
                class="bg-gray-700 hover:bg-gray-600 text-white text-xs font-semibold py-1 px-3 rounded">JS</button>
            </div>
            <button id="copy-btn"
              class="bg-green-600 hover:bg-green-700 text-white text-xs font-semibold py-1 px-3 rounded">
              Copy
            </button>
          </div>

          <!-- Blok Kode -->
          <pre class="whitespace-pre-wrap text-sm leading-relaxed font-mono text-gray-100">
    <code id="code-block" class="language-html" aria-label="Code snippet"></code>
  </pre>
        </section>
      </article>
    </section>

  </main>

  <!-- Edit Modal -->
  <div id="edit-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="bg-white rounded-3xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden p-6 md:p-8 mx-4 relative">

      <!-- Close Button -->
      <button id="close-modal"
        class="absolute top-5 right-5 text-gray-400 hover:text-gray-700 text-3xl font-bold focus:outline-none">
        &times;
      </button>

      <h2 id="modal-title" class="text-3xl font-bold text-gray-900 mb-8">Edit Navbar</h2>

      <!-- Form -->
      <form id="edit-form" class="flex flex-col md:flex-row gap-8 overflow-y-auto max-h-[65vh] pr-2">

        <!-- LEFT: Settings -->
        <div class="w-full md:w-1/2 space-y-6">
          <!-- Background Color -->
          <div>
            <label for="bgColor" class="block text-sm font-medium text-gray-700 mb-1">Navbar Background Color</label>
            <input type="color" id="bgColor" name="bgColor"
              class="w-full h-12 rounded-lg border border-gray-300 cursor-pointer" />
          </div>

          <!-- Text Color -->
          <div>
            <label for="textColor" class="block text-sm font-medium text-gray-700 mb-1">Navbar Text Color</label>
            <input type="color" id="textColor" name="textColor"
              class="w-full h-12 rounded-lg border border-gray-300 cursor-pointer" />
          </div>

          <!-- Position -->
          <div>
            <label for="navbarPosition" class="block text-sm font-medium text-gray-700 mb-1">Navbar Position</label>
            <select id="navbarPosition" name="navbarPosition"
              class="w-full h-12 rounded-lg border border-gray-300 px-3 text-gray-700 cursor-pointer">
              <option value="static">Static</option>
              <option value="sticky">Sticky</option>
            </select>
          </div>
        </div>

        <!-- RIGHT: Menu Items -->
        <div class="w-full md:w-1/2">
          <label class="block text-sm font-medium text-gray-700 mb-3">Menu Items</label>

          <div id="menu-items" class="space-y-3">
            <!-- Example Item -->
            <div class="flex items-center gap-2">
              <input type="text" value="Home"
                class="menu-input flex-1 h-10 rounded border border-gray-300 px-3 text-sm" />
              <button type="button" class="remove-menu text-red-500 hover:text-red-700 text-lg">✕</button>
            </div>
          </div>

          <button type="button" id="add-menu"
            class="mt-4 inline-flex items-center text-sm text-indigo-600 font-medium hover:underline">
            + Add Menu Item
          </button>
        </div>
      </form>

      <!-- FOOTER: Buttons -->
      <div class="flex flex-col md:flex-row md:justify-between items-center gap-4 mt-8 pt-4 border-t border-gray-200">
        <button type="button" id="reset-settings"
          class="text-sm text-red-500 hover:underline self-start md:self-center">Reset to default</button>

        <div class="flex gap-3">
          <button type="button" id="cancel-edit"
            class="px-5 py-2 rounded-lg text-sm font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 focus:ring-2 focus:ring-indigo-500">
            Cancel
          </button>
          <button type="submit" form="edit-form"
            class="px-5 py-2 rounded-lg text-sm font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500">
            Save
          </button>
        </div>
      </div>

    </div>
  </div>





  <script src="https://cdn.jsdelivr.net/npm/js-beautify@1.14.13/js/lib/beautify-html.min.js"></script>

  <script>
    // JS untuk dropdown dan toggle mobile
    document.getElementById("mobile-menu-button").onclick = () => {
      document.getElementById("mobile-menu").classList.toggle("hidden");
    };

    document.addEventListener("click", () => {
      document.querySelectorAll(".dropdown-menu").forEach(dd => dd.classList.add("hidden"));
    });
  </script>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const previewPanel = document.getElementById("preview-panel");
      const codePanel = document.getElementById("code-panel");
      const codeBlock = document.getElementById("code-block");
      const editModal = document.getElementById("edit-modal");
      const navbar = document.getElementById("navbar");

      const previewBtn = document.getElementById("preview-button");
      const codeBtn = document.getElementById("code-button");
      const editBtn = document.getElementById("edit-button");
      const htmlBtn = document.getElementById("html-btn");
      const jsBtn = document.getElementById("js-btn");
      const copyBtn = document.getElementById("copy-btn");
      const cancelEditBtn = document.getElementById("cancel-edit");
      const resetSettingsBtn = document.getElementById("reset-settings");
      const openModalBtn = document.getElementById("open-edit-modal");

      const bgColorInput = document.getElementById("bgColor");
      const textColorInput = document.getElementById("textColor");
      const positionSelect = document.getElementById("navbarPosition");

      const menuItemsContainer = document.getElementById("menu-items");
      const addMenuBtn = document.getElementById("add-menu");
      const editForm = document.getElementById("edit-form");

      const desktopMenu = document.querySelector("#navbar .md\\:flex");
      const mobileLinks = document.querySelector("#mobile-menu .space-y-1");

      let currentCodeType = "html";

      function rgbToHex(rgb) {
        if (!rgb) return "#ffffff";
        const nums = rgb.match(/\d+/g).map(Number);
        return "#" + nums.map(x => x.toString(16).padStart(2, '0')).join('');
      }

      function setActiveTab(btn) {
        [previewBtn, codeBtn, editBtn].forEach(b => {
          b.classList.remove("bg-indigo-600", "text-white", "shadow-md", "hover:bg-indigo-700");
          b.classList.add("bg-gray-100", "text-gray-800", "hover:bg-gray-200");
        });
        btn.classList.remove("bg-gray-100", "text-gray-800", "hover:bg-gray-200");
        btn.classList.add("bg-indigo-600", "text-white", "shadow-md", "hover:bg-indigo-700");
      }

      function openModal() {
        editModal.classList.remove("hidden");
        document.body.classList.add("overflow-hidden");
        bgColorInput.value = rgbToHex(navbar.style.backgroundColor);
        textColorInput.value = rgbToHex(navbar.style.color);
        positionSelect.value = navbar.classList.contains("sticky") ? "sticky" : "static";
        const saved = JSON.parse(localStorage.getItem("menuData")) || [];
        updateMenuEntriesUI(saved);
      }

      function closeModal() {
        editModal.classList.add("hidden");
        document.body.classList.remove("overflow-hidden");
      }

      function createMenuEntry(data = { type: "link", label: "", items: [] }) {
        const wrapper = document.createElement("div");
        wrapper.className = "menu-entry flex flex-col gap-2 mb-4";

        const top = document.createElement("div");
        top.className = "flex gap-2 items-start";

        const typeSelect = document.createElement("select");
        typeSelect.className = "menu-type h-10 rounded border px-2";
        typeSelect.innerHTML = `<option value="link">Link</option><option value="dropdown">Dropdown</option>`;
        typeSelect.value = data.type;

        const input = document.createElement("input");
        input.type = "text";
        input.className = "menu-input flex-1 h-10 rounded border px-3";
        input.value = data.label;

        const rm = document.createElement("button");
        rm.type = "button";
        rm.className = "remove-menu text-red-500";
        rm.textContent = "✕";

        const toggleBtn = document.createElement("button");
        toggleBtn.type = "button";
        toggleBtn.className = "toggle-items text-indigo-600 text-sm ml-2";
        toggleBtn.textContent = "Edit Items";
        if (data.type !== "dropdown") toggleBtn.classList.add("hidden");

        top.append(typeSelect, input, rm, toggleBtn);
        wrapper.append(top);

        const dropdownDiv = document.createElement("div");
        dropdownDiv.className = "dropdown-items hidden ml-6 space-y-1";

        (data.items || []).forEach(lbl => {
          const row = document.createElement("div");
          row.className = "flex gap-2";
          row.innerHTML = `<input class="dropdown-item flex-1 rounded border px-3 h-9" value="${lbl}"/><button type="button" class="rm-drop text-red-500">✕</button>`;
          dropdownDiv.append(row);
          row.querySelector(".rm-drop").onclick = () => row.remove();
        });

        const addSI = document.createElement("button");
        addSI.type = "button";
        addSI.className = "add-subitem text-indigo-600 text-sm";
        addSI.textContent = "+ Add Item";
        dropdownDiv.append(addSI);

        addSI.onclick = () => {
          const row = document.createElement("div");
          row.className = "flex gap-2";
          row.innerHTML = `<input class="dropdown-item flex-1 rounded border px-3 h-9"/><button type="button" class="rm-drop text-red-500">✕</button>`;
          dropdownDiv.insertBefore(row, addSI);
          row.querySelector(".rm-drop").onclick = () => row.remove();
        };

        toggleBtn.onclick = () => dropdownDiv.classList.toggle("hidden");
        typeSelect.onchange = () => {
          if (typeSelect.value === "dropdown") toggleBtn.classList.remove("hidden");
          else dropdownDiv.classList.add("hidden"), toggleBtn.classList.add("hidden");
        };
        rm.onclick = () => wrapper.remove();

        wrapper.append(dropdownDiv);
        return wrapper;
      }

      function updateMenuEntriesUI(data) {
        menuItemsContainer.innerHTML = "";
        data.forEach(d => menuItemsContainer.append(createMenuEntry(d)));
      }

      function getMenuData() {
        return Array.from(menuItemsContainer.querySelectorAll(".menu-entry")).map(wrap => {
          const type = wrap.querySelector(".menu-type").value;
          const label = wrap.querySelector(".menu-input").value.trim();
          const items = type == "dropdown"
            ? Array.from(wrap.querySelectorAll(".dropdown-item")).map(i => i.value.trim()).filter(Boolean)
            : [];
          return label ? (type == "dropdown" ? { type, label, items } : { type, label }) : null;
        }).filter(Boolean);
      }

      function renderNavbarMenuItems(menuData) {
        desktopMenu.innerHTML = "";
        mobileLinks.innerHTML = "";

        menuData.forEach(item => {
          if (item.type == "link") {
            const aD = document.createElement("a");
            aD.href = "#";
            aD.textContent = item.label;
            aD.className = "hover:text-gray-900 font-medium px-2";
            desktopMenu.append(aD);

            const aM = aD.cloneNode(true);
            aM.className = "block px-3 py-2";
            mobileLinks.append(aM);
          } else {
            // Desktop dropdown
            const cont = document.createElement("div");
            cont.className = "relative px-2";

            const btn = document.createElement("button");
            btn.className = "hover:text-gray-900 font-medium flex items-center gap-1";
            btn.innerHTML = `${item.label} <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>`;
            cont.append(btn);

            const dd = document.createElement("div");
            dd.className = "absolute left-0 mt-2 bg-white border rounded shadow hidden z-10 dropdown-menu";
            item.items.forEach(sub => {
              const sa = document.createElement("a");
              sa.href = "#";
              sa.textContent = sub;
              sa.className = "block px-3 py-2 hover:bg-gray-100";
              dd.append(sa);
            });
            cont.append(dd);
            desktopMenu.append(cont);

            btn.onclick = (e) => {
              e.stopPropagation();
              document.querySelectorAll(".dropdown-menu").forEach(d => d.classList.add("hidden"));
              dd.classList.toggle("hidden");
            };

            // Mobile dropdown
            const mcont = document.createElement("div");
            const mh = document.createElement("button");
            mh.className = "w-full text-left font-semibold px-3 py-2 flex items-center justify-between dropdown-toggle";
            mh.innerHTML = `${item.label} <svg class="w-4 h-4 transform transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>`;

            const subList = document.createElement("div");
            subList.className = "ml-4 mt-1 hidden";
            item.items.forEach(sub => {
              const sa = document.createElement("a");
              sa.href = "#";
              sa.textContent = sub;
              sa.className = "block py-1 text-sm hover:bg-gray-100";
              subList.append(sa);
            });

            mh.onclick = () => {
              subList.classList.toggle("hidden");
              const icon = mh.querySelector("svg");
              icon.classList.toggle("rotate-180");
            };

            mcont.append(mh, subList);
            mobileLinks.append(mcont);
          }
        });

        localStorage.setItem("menuData", JSON.stringify(menuData));
      }

      function updateCode() {
        const bg = navbar.style.backgroundColor || "#ffffff";
        const txt = navbar.style.color || "#374151";
        const pos = navbar.classList.contains("sticky") ? "sticky" : "static";
        const menu = JSON.parse(localStorage.getItem("menuData")) || [];

        if (currentCodeType === "html") {
          codeBlock.textContent = `
<nav id="navbar" class="${pos} w-full shadow-sm" style="background-color: ${bg}; color: ${txt};">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">
      <div class="flex items-center">
        <span class="text-lg font-bold">Logo</span>
      </div>
      <div class="hidden md:flex items-center space-x-4">
${menu.map(item => {
            if (item.type === "link") {
              return `        <a href="#" class="hover:text-gray-900 font-medium">${item.label}</a>`;
            } else {
              return `        <div class="relative">
          <button class="hover:text-gray-900 font-medium">${item.label} <span class="ml-1">▼</span></button>
          <div class="absolute left-0 mt-2 w-40 bg-white border rounded shadow hidden z-10 dropdown-menu">
${item.items.map(sub => `            <a href="#" class="block px-4 py-2 hover:bg-gray-100">${sub}</a>`).join('\n')}
          </div>
        </div>`;
            }
          }).join('\n')}
      </div>
      <div class="-mr-2 flex md:hidden">
        <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700">
          <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>
  <div id="mobile-menu" class="md:hidden hidden px-4 pb-4">
${menu.map(item => {
            if (item.type === "link") {
              return `    <a href="#" class="block py-2 font-medium">${item.label}</a>`;
            } else {
              return `    <div class="mt-2">
      <div class="font-semibold">${item.label}</div>
${item.items.map(sub => `      <a href="#" class="block pl-4 py-1 text-sm hover:bg-gray-100">${sub}</a>`).join('\n')}
    </div>`;
            }
          }).join('\n')}
  </div>
</nav>
`.trim();
          codeBlock.className = "language-html";

        } else {
          codeBlock.textContent = `// JS untuk dropdown dan toggle mobile
document.getElementById("mobile-menu-button").onclick = () => {
  document.getElementById("mobile-menu").classList.toggle("hidden");
};

document.addEventListener("click", () => {
  document.querySelectorAll(".dropdown-menu").forEach(dd => dd.classList.add("hidden"));
});`;
          codeBlock.className = "language-js";
        }
      }


      function saveSettings(bg, txt, pos) {
        localStorage.setItem("navbarSettings", JSON.stringify({ bg, txt, pos }));
      }

      function loadSettings() {
        const s = JSON.parse(localStorage.getItem("navbarSettings"));
        if (s) {
          navbar.style.backgroundColor = s.bg;
          navbar.style.color = s.txt;
          navbar.classList.toggle("sticky", s.pos == "sticky");
        }
      }

      function resetAll() {
        navbar.style.backgroundColor = "#ffffff";
        navbar.style.color = "#374151";
        navbar.classList.remove("sticky");
        localStorage.removeItem("navbarSettings");
        localStorage.removeItem("menuData");
        window.location.reload();
      }

      loadSettings();
      const initialMenu = JSON.parse(localStorage.getItem("menuData")) || [
        { type: "link", label: "Home" },
        { type: "link", label: "Services" },
        { type: "dropdown", label: "More", items: ["Team", "FAQ"] }
      ];
      updateMenuEntriesUI(initialMenu);
      renderNavbarMenuItems(initialMenu);
      updateCode();
      showPreview();

      previewBtn.onclick = () => (showPreview(), setActiveTab(previewBtn));
      codeBtn.onclick = () => (currentCodeType = "html", showCode(), setActiveTab(codeBtn));
      editBtn.onclick = () => (openModal(), setActiveTab(editBtn));

      htmlBtn.onclick = () => (currentCodeType = "html", updateCode());
      jsBtn.onclick = () => (currentCodeType = "js", updateCode());
      copyBtn.onclick = () => {
        navigator.clipboard.writeText(codeBlock.textContent);
        copyBtn.textContent = "Copied!";
        setTimeout(() => copyBtn.textContent = "Copy", 1500);
      };

      addMenuBtn.onclick = () => menuItemsContainer.append(createMenuEntry());

      editForm.onsubmit = e => {
        e.preventDefault();
        const menuData = getMenuData();
        renderNavbarMenuItems(menuData);
        saveSettings(bgColorInput.value, textColorInput.value, positionSelect.value);
        navbar.style.backgroundColor = bgColorInput.value;
        navbar.style.color = textColorInput.value;
        navbar.classList.toggle("sticky", positionSelect.value == "sticky");
        closeModal();
        updateCode();
      };

      cancelEditBtn.onclick = closeModal;
      resetSettingsBtn.onclick = resetAll;

      function showPreview() {
        previewPanel.classList.remove("hidden");
        codePanel.classList.add("hidden");
        editModal.classList.add("hidden");
      }

      function showCode() {
        codePanel.classList.remove("hidden");
        previewPanel.classList.add("hidden");
        editModal.classList.add("hidden");
        updateCode();
      }

      document.addEventListener("click", () => {
        document.querySelectorAll(".dropdown-menu").forEach(dd => dd.classList.add("hidden"));
      });
    });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('edit-modal');
      const closeModalBtn = document.getElementById('close-modal');
      const cancelEditBtn = document.getElementById('cancel-edit');

      // Fungsi untuk menyembunyikan modal
      function closeModal() {
        modal.classList.add('hidden');
      }

      // Tutup modal saat klik tombol "×"
      closeModalBtn.addEventListener('click', closeModal);

      // Tutup modal saat klik tombol "Cancel"
      cancelEditBtn.addEventListener('click', closeModal);

      // (Opsional) Tutup modal saat klik di luar konten modal
      window.addEventListener('click', function (e) {
        if (e.target === modal) {
          closeModal();
        }
      });
    });
  </script>


</body>

</html>